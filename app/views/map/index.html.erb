<% content_for :stylesheet_includes do %>
	<style type="text/css">
		body{ background-color: black; }
		.container { width:100%; padding:0;}
		#map-canvas { height:550px; width:100%; top:10px; }
		#map-details { height:auto; width:100%; }
	</style>
<% end %>
<% content_for :javascript_includes do %>
	<script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=<%= GOOGLE_MAP_API_KEY %>&sensor=true"></script>
	<script type="text/javascript">
    var array_of_place_first_level = <%= @places_first_level %>;
    var map;
    function initialize() {
      var mapOptions = {
        zoom: 4,
        center: new google.maps.LatLng(0,0),
        mapTypeId: google.maps.MapTypeId.HYBRID
      }
      map = new google.maps.Map(document.getElementById('map-canvas'), mapOptions);

      for (i = 0; i < array_of_place_first_level.length; i++) {
        createMarker(array_of_place_first_level[i]);
  
      }
    }
    function createMarker(datas){
      var myLatLng = new google.maps.LatLng(datas[0], datas[1]);
      var image = "maps_icons/"+datas[2]+".png";
      var marker= new google.maps.Marker({
          position: myLatLng, 
          map: map,
          icon: image
      });
      google.maps.event.addListener(marker, "click", function() {
            alert(myLatLng);
      });
    }

    google.maps.event.addDomListener(window, 'load', initialize);

	</script>
<% end %>


<div id="map-canvas"></div>
<div id="map-details"></div>